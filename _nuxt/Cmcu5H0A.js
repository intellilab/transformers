const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cho4J4pX.js","./8HslT92O.js","./yIwJwvju.js","./DGHton2e.js","./BR8QTl2s.js","./Crv9dbuU.js","./BxDglpyb.js","./BosuxZz1.js","./CjmsQm5P.js","./mbYHt68G.js","./C31aYP37.js","./BVDwJ206.js","./jh039knR.js","./C_BrhvQF.js","./DfWnYqj1.js","./Dn9m_fTP.js"])))=>i.map(i=>d[i]);
import{m as O,r as j,n as s,p as L,g as A,z as w,o as _,c,a as o,A as I,B as f,q as R,v as y,b as D}from"./CNVyilSt.js";import{_ as T}from"./C-qBzMy0.js";const x={class:"tool-string"},b={class:"mb-2"},C={class:"flex"},k={class:"flex-1 mr-4"},S={class:"flex"},B={class:"flex-1"},$=["value"],M={key:0},N=["value"],a=j([]);q();async function q(){const d=await Promise.all(Object.values(Object.assign({"/components/string/pipes/base64-text.js":()=>s(()=>import("./fdURKpsy.js"),[],import.meta.url),"/components/string/pipes/json-get.js":()=>s(()=>import("./Cho4J4pX.js"),__vite__mapDeps([0,1]),import.meta.url),"/components/string/pipes/json-parse.js":()=>s(()=>import("./yIwJwvju.js"),__vite__mapDeps([2,1]),import.meta.url),"/components/string/pipes/json-stringify.js":()=>s(()=>import("./DoiiY0Tb.js"),[],import.meta.url),"/components/string/pipes/json5-js.js":()=>s(()=>import("./DGHton2e.js"),__vite__mapDeps([3,1]),import.meta.url),"/components/string/pipes/json5-json.js":()=>s(()=>import("./BR8QTl2s.js"),__vite__mapDeps([4,1]),import.meta.url),"/components/string/pipes/json5-toml.js":()=>s(()=>import("./Crv9dbuU.js"),__vite__mapDeps([5,1,6,7]),import.meta.url),"/components/string/pipes/json5-yaml.js":()=>s(()=>import("./CjmsQm5P.js"),__vite__mapDeps([8,1,9]),import.meta.url),"/components/string/pipes/list-tree.js":()=>s(()=>import("./C31aYP37.js"),__vite__mapDeps([10,11]),import.meta.url),"/components/string/pipes/plist-json.js":()=>s(()=>import("./jh039knR.js"),__vite__mapDeps([12,7]),import.meta.url),"/components/string/pipes/text-base64.js":()=>s(()=>import("./CZ2ggBUA.js"),[],import.meta.url),"/components/string/pipes/toml-json.js":()=>s(()=>import("./C_BrhvQF.js"),__vite__mapDeps([13,6,7]),import.meta.url),"/components/string/pipes/tree-list.js":()=>s(()=>import("./DfWnYqj1.js"),__vite__mapDeps([14,11]),import.meta.url),"/components/string/pipes/yaml-json.js":()=>s(()=>import("./Dn9m_fTP.js"),__vite__mapDeps([15,9]),import.meta.url)})).map(async e=>await e()));a.value=d}const H=O({__name:"string",setup(d){const e=L({input:"",pipes:[]}),r=j();A([a.value,()=>[e.pipes,e.input]],()=>{let n="";try{let t=e.input;for(const{name:i,options:l}of e.pipes){const p=a.value.find(m=>m.meta.name===i);p&&(n=i,t=p.handle(t,l))}e.output=t,e.errorPipe=""}catch{e.errorPipe=n}});function E(){e.input=""}function g(n){n.target.select()}function P(){const{origin:n,pathname:t,search:i}=window.location,{input:l,pipes:p}=e,m={i:l,p:JSON.stringify(p)};let u=Object.entries(m).map(([h,v])=>v&&[h,v].map(encodeURIComponent).join("=")).filter(Boolean).join("&");u=`${u}&_=`;const V=`${n}${t}${i}#${u}`;r.value={url:V}}return w(()=>{const n=new URLSearchParams(window.location.hash.slice(1));try{const t=n.get("i"),i=JSON.parse(n.get("p")||"");t&&i&&(e.input=t,e.pipes=i)}finally{window.location.hash=""}}),(n,t)=>(_(),c("div",x,[t[5]||(t[5]=o("h1",null,"String Pipes",-1)),o("section",b,[o("div",C,[o("div",k,[o("div",S,[t[3]||(t[3]=o("label",null,"Input",-1)),e.input?(_(),c("a",{key:0,class:"ml-4",href:"#",onClick:I(E,["prevent"])},t[2]||(t[2]=[o("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"trash w-6 h-6"},[o("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]))):f("",!0)]),R(o("textarea",{class:"form-input",rows:"18","onUpdate:modelValue":t[0]||(t[0]=i=>e.input=i)},null,512),[[y,e.input]])]),o("div",B,[t[4]||(t[4]=o("label",null,"Output",-1)),o("textarea",{class:"form-input",rows:"18",readonly:"",value:e.output},null,8,$)])])]),D(T,{pipeList:a.value,errorPipe:e.errorPipe,modelValue:e.pipes,"onUpdate:modelValue":t[1]||(t[1]=i=>e.pipes=i)},null,8,["pipeList","errorPipe","modelValue"]),o("div",{class:"mt-4"},[o("button",{class:"mr-2 mb-1",onClick:P},"Share")]),r.value?(_(),c("div",M,[o("input",{class:"form-input",readonly:"",value:r.value.url,onClick:g},null,8,N)])):f("",!0)]))}});export{H as default};
