import{l as A}from"./8HslT92O.js";/*! @gera2ld/format-json v0.3.0 | MIT License */let l=function(e){return e.KEY="KEY",e.VALUE="VALUE",e.COMMA="COMMA",e.BR="BR",e.SPACE="SPACE",e.COLON="COLON",e.BLOCK="BLOCK",e}({}),i=function(e){return e.MULTILINE="MULTILINE",e.SINGLELINE="SINGLELINE",e.KEY="KEY",e}({});function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}const E={type:l.COMMA,value:","},p={type:l.BR,value:`
`},v={"\\":"\\\\","\r":"\\r","	":"\\t"},m=f({},v,{"'":"\\'","\n":"\\n"}),C=f({},v,{"`":"\\`"});function g(e,{quote:t,quoteAsNeeded:r,template:n}){if(n&&/\n/.test(e))return`\`${e.replace(/[\\`\r\t]/g,u=>C[u])}\``;if(!r||/\W/.test(e)){const a=new RegExp(`[\\\\\\r\\n\\t${t}]`,"g"),u=e.replace(a,s=>m[s]);return t+u+t}return e}function o(e,t){return{type:l.SPACE,value:" ".repeat(t*e)}}function I(e,t,r=[]){const n=r.length,a=[],u={type:i.MULTILINE,separator:[E],data:a,path:r};if(a.push({type:l.BLOCK,value:"["}),e.length){const s=e.map((L,c)=>y(L,t,[...r,c]));a.push(...t.indent?[p]:[],o(n+1,t.indent),...h(s,t,n+1),...t.indent?[p]:[],o(n,t.indent))}else u.type=i.SINGLELINE;return a.push({type:l.BLOCK,value:"]"}),u}function b(e,t,r=[]){const n=r.length,a=[],u={type:i.MULTILINE,separator:[E],data:a,path:r};a.push({type:l.BLOCK,value:"{"});const L=(typeof t.entries=="function"?t.entries(e):Object.entries(e).sort((c,d)=>c[0]<d[0]?-1:c[0]>d[0]?1:0)).map(([c,d])=>{const N=[...r,c],O={type:i.KEY,data:[{type:l.KEY,value:g(c,t)}],separator:[{type:l.COLON,value:":"},o(1,t.indent?1:0)],path:N};return t.onData==null||t.onData(O),[O,y(d,t,N)]}).reduce((c,d)=>[...c,...d],[]);return L.length?a.push(...t.indent?[p]:[],o(n+1,t.indent),...h(L,t,n+1),...t.indent?[p]:[],o(n,t.indent)):u.type=i.SINGLELINE,a.push({type:l.BLOCK,value:"}"}),u}function y(e,t,r=[]){let n;return Array.isArray(e)?n=I(e,t,r):e===null?n={type:i.SINGLELINE,separator:[E],data:[{type:l.VALUE,value:`${e}`}],path:r}:typeof e=="object"?n=b(e,t,r):n={type:i.SINGLELINE,separator:[E],data:[{type:l.VALUE,value:typeof e=="string"?g(e,f({},t,{quoteAsNeeded:!1})):`${e}`}],path:r},t.onData==null||t.onData(n),n}function h(e,t,r){const n=[];for(let a=0;a<e.length;a+=1){const u=e[a],s=e[a+1];u.data&&n.push(...u.data),u.separator&&(s||t.trailing)&&n.push(...u.separator),s&&u.type!==i.KEY&&n.push(...t.indent?[p]:[],o(r,t.indent))}return n}const M={indent:0,quoteAsNeeded:!1,quote:'"',trailing:!1,template:!1};function K(e,t){const r=f({},M,t);return(y(e,r).data||[]).map(({value:a})=>`${a}`).join("")}function q(e,t){return K(A.parse(e),{...t,quoteAsNeeded:!!+t.quoteAsNeeded})}const B={name:"JSON5 to JavaScript",options:[{name:"quoteAsNeeded",description:"Add quotes",type:"radio",choices:[{value:1,label:"as needed"},{value:0,label:"always"}],default:1},{name:"quote",description:"Preferred quote character",type:"radio",choices:[{value:"'",label:"'"},{value:'"',label:'"'}],default:"'"},{name:"indent",description:"Indent",type:"number",default:2},{name:"trailing",description:"Always add trailing commas",type:"checkbox",default:!0},{name:"template",description:"Quote multiline strings as template literals",type:"checkbox",default:!0}]};export{q as handle,B as meta};
